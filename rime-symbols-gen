#!/usr/bin/env python
#-*- encoding:utf-8 -*-

# https://www.unicode.org/charts/charindex.html

import json
import opencc
s2t = opencc.OpenCC('s2t.json')


def strSpaceRange_1(start, end):
    return ' '.join(map(chr,range(start, end + 1)))

def genTextTypeCategory(name, ranges):
    t_name = s2t.convert(name)

    text = ''

    # ç¹ä½“ä¸€é
    if name != t_name:
        text += t_name + '\t' + t_name + ' '
        for r in ranges:
            text += strSpaceRange_1(r[0], r[1])
        text += '\n'

    # ç®€ä½“ä¸€é
    text += name + '\t' + name + ' '
    for r in ranges:
        text += strSpaceRange_1(r[0], r[1])
    text += '\n'

    return text

def genTextTypeWord(name, char):
    t_name = s2t.convert(name)

    text = ''

    # ç¹ä½“ä¸€é
    if name != t_name:
        text += t_name + '\t' + t_name + ' ' + char + '\n'

    # ç®€ä½“ä¸€é
    text += name + '\t' + name + ' ' + char + '\n'
    return text

def genSymbolCategory(file_name):
    text = ''

    # éŸ³ç¬¦
    # https://www.unicode.org/charts/PDF/U2600.pdf
    text += genTextTypeCategory('éŸ³ç¬¦', (
        (0x2669, 0x266F),
        ))

    # éŸ³ä¹ç¬¦å·
    # https://www.unicode.org/charts/PDF/U1D100.pdf
    text += genTextTypeCategory('éŸ³ä¹ç¬¦å·', (
        (0x1D100, 0x1D126),
        (0x1D129, 0x1D1E8),
        ))

    # å‡ ä½•å›¾å½¢
    # https://www.unicode.org/charts/PDF/U25A0.pdf
    # https://www.unicode.org/charts/PDF/U1F780.pdf
    text += genTextTypeCategory('å‡ ä½•å›¾å½¢', (
        (0x25A0, 0x25FF),
        (0x1F780, 0x1F7D8),
        (0x1F7E0, 0x1F7EB),
        ))

    # ç®­å¤´ç¬¦å·
    # https://www.unicode.org/charts/PDF/U2190.pdf
    # https://www.unicode.org/charts/PDF/U2B00.pdf
    text += genTextTypeCategory('ç®­å¤´ç¬¦å·', (
        (0x2190, 0x21FF),
        (0x2B00, 0x2B73),
        (0x2B76, 0x2B95),
        (0x2B97, 0x2BFF),
        ))

    # æ•°å­¦ç¬¦å·
    # https://www.unicode.org/charts/PDF/U2200.pdf
    text += genTextTypeCategory('æ•°å­¦ç¬¦å·', (
        (0x2200, 0x22FF),
        ))

    # ç½—é©¬æ•°å­—
    # https://www.unicode.org/charts/PDF/U2150.pdf
    text += genTextTypeCategory('ç½—é©¬æ•°å­—', (
        (0x2160, 0x2183),
        ))

    # å¸Œè…Šå­—æ¯
    # https://www.unicode.org/charts/PDF/U0370.pdf
    text += genTextTypeCategory('å¸Œè…Šå­—æ¯', (
        (0x03B1, 0x03C9),
        (0x0391, 0x03A1),
        (0x03A3, 0x03A9),
        ))


    open(file_name, 'w', encoding = 'utf-8').write(text)

def genSymbolWord(file_name):
    text = ''
    text += genTextTypeWord('å…¨éŸ³ç¬¦', 'ğ…')
    text += genTextTypeWord('äºŒåˆ†éŸ³ç¬¦', 'ğ…')
    text += genTextTypeWord('å››åˆ†éŸ³ç¬¦', 'ğ…Ÿ')
    text += genTextTypeWord('å…«åˆ†éŸ³ç¬¦', 'ğ… ')
    text += genTextTypeWord('åå…­åˆ†éŸ³ç¬¦', 'ğ…¡')
    text += genTextTypeWord('ä¸‰åäºŒåˆ†éŸ³ç¬¦', 'ğ…¢')
    text += genTextTypeWord('å…­åå››åˆ†éŸ³ç¬¦', 'ğ…£')
    text += genTextTypeWord('ä¸€ç™¾äºŒåå…«åˆ†éŸ³ç¬¦', 'ğ…¤')

    text += genTextTypeWord('å…¨ä¼‘æ­¢ç¬¦', 'ğ„»')
    text += genTextTypeWord('äºŒåˆ†ä¼‘æ­¢ç¬¦', 'ğ„¼')
    text += genTextTypeWord('å››åˆ†ä¼‘æ­¢ç¬¦', 'ğ„½')
    text += genTextTypeWord('å…«åˆ†ä¼‘æ­¢ç¬¦', 'ğ„¾')
    text += genTextTypeWord('åå…­åˆ†ä¼‘æ­¢ç¬¦', 'ğ„¿')
    text += genTextTypeWord('ä¸‰åäºŒåˆ†ä¼‘æ­¢ç¬¦', 'ğ…€')
    text += genTextTypeWord('å…­åå››åˆ†ä¼‘æ­¢ç¬¦', 'ğ…')
    text += genTextTypeWord('ä¸€ç™¾äºŒåå…«åˆ†ä¼‘æ­¢ç¬¦', 'ğ…‚')

    text += genTextTypeWord('å‡è®°å·', 'â™¯')
    text += genTextTypeWord('é™è®°å·', 'â™­')
    text += genTextTypeWord('è¿˜åŸè®°å·', 'â™®')
    text += genTextTypeWord('é‡å‡è®°å·', 'ğ„ª')
    text += genTextTypeWord('é‡é™è®°å·', 'ğ„«')

    text += genTextTypeWord('é«˜éŸ³è°±å·', 'ğ„')
    text += genTextTypeWord('ä½éŸ³è°±å·', 'ğ„¢')

    text += genTextTypeWord('å·¦', 'â†')
    text += genTextTypeWord('ä¸Š', 'â†‘')
    text += genTextTypeWord('å³', 'â†’')
    text += genTextTypeWord('ä¸‹', 'â†“')
    text += genTextTypeWord('å·¦ä¸Š', 'â†–')
    text += genTextTypeWord('å³ä¸Š', 'â†—')
    text += genTextTypeWord('å³ä¸‹', 'â†˜')
    text += genTextTypeWord('å·¦ä¸‹', 'â†™')

    text += genTextTypeWord('è´Ÿ', 'âˆ’')
    text += genTextTypeWord('æ ¹å·', 'âˆš')
    text += genTextTypeWord('ä¸‰æ¬¡æ ¹å·', 'âˆ›')
    text += genTextTypeWord('å››æ¬¡æ ¹å·', 'âˆœ')
    text += genTextTypeWord('æ­£æ¯”äº', 'âˆ')
    text += genTextTypeWord('æ— ç©·å¤§', 'âˆ')
    text += genTextTypeWord('è§’', 'âˆ ')
    text += genTextTypeWord('å¹³è¡Œäº', 'âˆ¥')
    text += genTextTypeWord('äº¤é›†', 'âˆ©')
    text += genTextTypeWord('å¹¶é›†', 'âˆª')
    text += genTextTypeWord('ç§¯åˆ†', 'âˆ«')
    text += genTextTypeWord('åŒé‡ç§¯åˆ†', 'âˆ¬')
    text += genTextTypeWord('äºŒé‡ç§¯åˆ†', 'âˆ¬')
    text += genTextTypeWord('ä¸‰é‡ç§¯åˆ†', 'âˆ­')
    text += genTextTypeWord('æ‰€ä»¥', 'âˆ´')
    text += genTextTypeWord('å› ä¸º', 'âˆµ')
    text += genTextTypeWord('ç›¸ä¼¼äº', 'âˆ½')
    text += genTextTypeWord('å…¨ç­‰äº', 'â‰Œ')
    text += genTextTypeWord('å‚ç›´äº', 'âŠ¥')
    text += genTextTypeWord('çº¦ç­‰äº', 'â‰ˆ')
    text += genTextTypeWord('ä¸ç­‰äº', 'â‰ ')
    text += genTextTypeWord('åŒ…å«äº', 'âŠ‚')
    text += genTextTypeWord('å°äºç­‰äº', 'â‰¤')
    text += genTextTypeWord('å¤§äºç­‰äº', 'â‰¥')
    text += genTextTypeWord('å¼‚æˆ–', 'âŠ•')

    text += genTextTypeWord('é›¶æ¬¡æ–¹', 'â°')
    text += genTextTypeWord('ä¸€æ¬¡æ–¹', 'Â¹')
    text += genTextTypeWord('äºŒæ¬¡æ–¹', 'Â²')
    text += genTextTypeWord('å¹³æ–¹', 'Â²')
    text += genTextTypeWord('ä¸‰æ¬¡æ–¹', 'Â³')
    text += genTextTypeWord('ç«‹æ–¹', 'Â³')
    text += genTextTypeWord('å››æ¬¡æ–¹', 'â´')
    text += genTextTypeWord('äº”æ¬¡æ–¹', 'âµ')
    text += genTextTypeWord('å…­æ¬¡æ–¹', 'â¶')
    text += genTextTypeWord('ä¸ƒæ¬¡æ–¹', 'â·')
    text += genTextTypeWord('å…«æ¬¡æ–¹', 'â¸')
    text += genTextTypeWord('ä¹æ¬¡æ–¹', 'â¹')

    text += genTextTypeWord('æ‘„æ°åº¦', 'â„ƒ')
    text += genTextTypeWord('åæ°åº¦', 'â„‰')
    text += genTextTypeWord('ç™¾åˆ†å·', 'ï¼…')
    text += genTextTypeWord('åƒåˆ†å·', 'â€°')
    text += genTextTypeWord('ä¸‡åˆ†å·', 'â€±')
    text += genTextTypeWord('åº¦', 'Â°')
    text += genTextTypeWord('æ¬§å§†', 'Î©')


    text += genTextTypeWord('çš®å®‰', 'ã€')
    text += genTextTypeWord('çº³å®‰', 'ã')
    text += genTextTypeWord('å¾®å®‰', 'ã‚')
    text += genTextTypeWord('æ¯«å®‰', 'ãƒ')
    text += genTextTypeWord('åƒå®‰åŸ¹', 'ã„')
    text += genTextTypeWord('åƒå­—èŠ‚', 'ã…')
    text += genTextTypeWord('å…†å­—èŠ‚', 'ã†')
    text += genTextTypeWord('å‰å­—èŠ‚', 'ã‡')
    text += genTextTypeWord('å¡è·¯é‡Œ', 'ãˆ')
    text += genTextTypeWord('å¡', 'ãˆ')
    text += genTextTypeWord('åƒå¡', 'ã‰')
    text += genTextTypeWord('çš®æ³•', 'ãŠ')
    text += genTextTypeWord('çº³æ³•', 'ã‹')
    text += genTextTypeWord('å¾®æ³•', 'ãŒ')
    text += genTextTypeWord('å¾®å…‹', 'ã')
    text += genTextTypeWord('æ¯«å…‹', 'ã')
    text += genTextTypeWord('åƒå…‹', 'ã')
    text += genTextTypeWord('èµ«', 'ã')
    text += genTextTypeWord('èµ«å…¹', 'ã')
    text += genTextTypeWord('åƒèµ«', 'ã‘')
    text += genTextTypeWord('åƒèµ«å…¹', 'ã‘')
    text += genTextTypeWord('å…†èµ«', 'ã’')
    text += genTextTypeWord('å…†èµ«å…¹', 'ã’')
    text += genTextTypeWord('å‰èµ«', 'ã“')
    text += genTextTypeWord('å‰èµ«å…¹', 'ã“')
    text += genTextTypeWord('å¤ªèµ«', 'ã”')
    text += genTextTypeWord('å¤ªèµ«å…¹', 'ã”')
    #text += genTextTypeWord('', 'ã•')
    #text += genTextTypeWord('', 'ã–')
    #text += genTextTypeWord('', 'ã—')
    #text += genTextTypeWord('', 'ã˜')
    text += genTextTypeWord('è´¹ç±³', 'ã™')
    text += genTextTypeWord('çº³ç±³', 'ãš')
    text += genTextTypeWord('å¾®ç±³', 'ã›')
    text += genTextTypeWord('æ¯«ç±³', 'ãœ')
    text += genTextTypeWord('å˜ç±³', 'ã')
    text += genTextTypeWord('åƒç±³', 'ã')
    text += genTextTypeWord('å¹³æ–¹æ¯«ç±³', 'ãŸ')
    text += genTextTypeWord('å¹³æ–¹å˜ç±³', 'ã ')
    text += genTextTypeWord('å¹³æ–¹ç±³', 'ã¡')
    text += genTextTypeWord('å¹³æ–¹åƒç±³', 'ã¢')
    text += genTextTypeWord('ç«‹æ–¹æ¯«ç±³', 'ã£')
    text += genTextTypeWord('ç«‹æ–¹å˜ç±³', 'ã¤')
    text += genTextTypeWord('ç«‹æ–¹ç±³', 'ã¥')
    text += genTextTypeWord('ç«‹æ–¹åƒç±³', 'ã¦')
    text += genTextTypeWord('ç±³æ¯ç§’', 'ã§')
    text += genTextTypeWord('ç±³æ¯å¹³æ–¹ç§’', 'ã¨')
    text += genTextTypeWord('å¸•', 'ã©')
    text += genTextTypeWord('åƒå¸•', 'ãª')
    text += genTextTypeWord('å…†å¸•', 'ã«')
    text += genTextTypeWord('å‰å¸•', 'ã¬')
    text += genTextTypeWord('å¼§åº¦', 'ã­')
    text += genTextTypeWord('å¼§åº¦æ¯ç§’', 'ã®')
    text += genTextTypeWord('æ¯å¹³æ–¹ç§’å¼§åº¦', 'ã¯')
    text += genTextTypeWord('çš®ç§’', 'ã°')
    text += genTextTypeWord('çº³ç§’', 'ã±')
    text += genTextTypeWord('å¾®ç§’', 'ã²')
    text += genTextTypeWord('æ¯«ç§’', 'ã³')
    text += genTextTypeWord('çš®ä¼', 'ã´')
    text += genTextTypeWord('çº³ä¼', 'ãµ')
    text += genTextTypeWord('å¾®ä¼', 'ã¶')
    text += genTextTypeWord('æ¯«ä¼', 'ã·')
    text += genTextTypeWord('åƒä¼', 'ã¸')
    text += genTextTypeWord('å…†ä¼', 'ã¹')
    text += genTextTypeWord('çš®ç“¦', 'ãº')
    text += genTextTypeWord('çº³ç“¦', 'ã»')
    text += genTextTypeWord('å¾®ç“¦', 'ã¼')
    text += genTextTypeWord('æ¯«ç“¦', 'ã½')
    text += genTextTypeWord('åƒç“¦', 'ã¾')
    text += genTextTypeWord('å…†ç“¦', 'ã¿')
    text += genTextTypeWord('å¾®æ¬§', 'ã€')
    text += genTextTypeWord('å…†æ¬§', 'ã')
    text += genTextTypeWord('ä¸Šåˆ', 'ã‚')
    text += genTextTypeWord('è´å¯', 'ãƒ')
    text += genTextTypeWord('ç«‹æ–¹å˜ç±³', 'ã„')
    text += genTextTypeWord('å', 'ã…')
    text += genTextTypeWord('åå¾·æ‹‰', 'ã…')
    text += genTextTypeWord('åº“ä¼¦æ¯åƒå…‹', 'ã†')
    #text += genTextTypeWord('', 'ã‡')
    text += genTextTypeWord('åˆ†è´', 'ãˆ')
    text += genTextTypeWord('æˆˆç‘', 'ã‰')
    text += genTextTypeWord('å…¬é¡·', 'ãŠ')
    text += genTextTypeWord('é©¬åŠ›', 'ã‹')
    text += genTextTypeWord('è‹±å¯¸', 'ãŒ')
    # text += genTextTypeWord('', 'ã')
    # text += genTextTypeWord('', 'ã')
    text += genTextTypeWord('èŠ‚', 'ã')
    text += genTextTypeWord('æµæ˜', 'ã')
    #text += genTextTypeWord('', 'ã‘')
    #text += genTextTypeWord('', 'ã’')
    text += genTextTypeWord('å‹’å…‹æ–¯', 'ã“')
    #text += genTextTypeWord('', 'ã”')
    text += genTextTypeWord('å¯†è€³', 'ã•')
    text += genTextTypeWord('æ‘©å°”', 'ã–')
    #text += genTextTypeWord('', 'ã—')
    text += genTextTypeWord('ä¸‹åˆ', 'ã˜')
    text += genTextTypeWord('ç™¾ä¸‡åˆ†æ¯”æµ“åº¦', 'ã™')
    #text += genTextTypeWord('', 'ãš')
    text += genTextTypeWord('çƒé¢åº¦', 'ã›')
    text += genTextTypeWord('å¸Œæ²ƒç‰¹', 'ãœ')
    text += genTextTypeWord('éŸ¦ä¼¯', 'ã')
    text += genTextTypeWord('ç‰›é¡¿æ¯åº“ä»‘', 'ã')
    text += genTextTypeWord('å®‰æ¯ç±³', 'ãŸ')
    text += genTextTypeWord('å®‰åŸ¹æ¯ç±³', 'ãŸ')

    text += genTextTypeWord('å››åˆ†ä¹‹ä¸€', 'Â¼')
    text += genTextTypeWord('äºŒåˆ†ä¹‹ä¸€', 'Â½')
    text += genTextTypeWord('å››åˆ†ä¹‹ä¸‰', 'Â¾')

    text += genTextTypeWord('ä¸ƒåˆ†ä¹‹ä¸€', 'â…')
    text += genTextTypeWord('ä¹åˆ†ä¹‹ä¸€', 'â…‘')
    text += genTextTypeWord('ååˆ†ä¹‹ä¸€', 'â…’')
    text += genTextTypeWord('ä¸‰åˆ†ä¹‹ä¸€', 'â…“')
    text += genTextTypeWord('ä¸‰åˆ†ä¹‹äºŒ', 'â…”')
    text += genTextTypeWord('äº”åˆ†ä¹‹ä¸€', 'â…•')
    text += genTextTypeWord('äº”åˆ†ä¹‹äºŒ', 'â…–')
    text += genTextTypeWord('äº”åˆ†ä¹‹ä¸‰', 'â…—')
    text += genTextTypeWord('äº”åˆ†ä¹‹å››', 'â…˜')
    text += genTextTypeWord('å…­åˆ†ä¹‹ä¸€', 'â…™')
    text += genTextTypeWord('å…­åˆ†ä¹‹äº”', 'â…š')
    text += genTextTypeWord('å…«åˆ†ä¹‹ä¸€', 'â…›')
    text += genTextTypeWord('å…«åˆ†ä¹‹ä¸‰', 'â…œ')
    text += genTextTypeWord('å…«åˆ†ä¹‹äº”', 'â…')
    text += genTextTypeWord('å…«åˆ†ä¹‹ä¸ƒ', 'â…')
    #text += genTextTypeWord('', 'â…Ÿ')

    text += genTextTypeWord('é˜¿å°”æ³•', 'Î±')
    text += genTextTypeWord('è´å¡”', 'Î²')
    text += genTextTypeWord('ä¼½ç›', 'Î³')
    text += genTextTypeWord('å¾·å°”å¡”', 'Î´')
    text += genTextTypeWord('è‰¾æ™®è¥¿é¾™', 'Îµ')
    text += genTextTypeWord('æ·å¡”', 'Î¶')
    text += genTextTypeWord('ä¾å¡”', 'Î·')
    text += genTextTypeWord('è¥¿å¡”', 'Î¸')
    text += genTextTypeWord('ç¼ª', 'Î¼')
    text += genTextTypeWord('æ´¾', 'Ï€')
    text += genTextTypeWord('å¥—', 'Ï„')
    text += genTextTypeWord('æ™®èµ›', 'Ïˆ')
    text += genTextTypeWord('æ¬§ç±³ä¼½', 'Ï‰')

    text += genTextTypeWord('äººæ°‘å¸', 'Â¥')
    text += genTextTypeWord('å…ƒ', 'Â¥')
    text += genTextTypeWord('æ—¥å…ƒ', 'ï¿¥')
    text += genTextTypeWord('ç¾åˆ†', 'ï¿ ')
    text += genTextTypeWord('ç¾å…ƒ', 'ï¼„')
    text += genTextTypeWord('è‹±é•‘', 'ï¿¡')
    text += genTextTypeWord('æ¬§å…ƒ', 'â‚¬')
    text += genTextTypeWord('æœé²œå…ƒ', 'â‚©')
    text += genTextTypeWord('éŸ©å…ƒ', 'â‚©')

    text += genTextTypeWord('ç‚¹', 'ä¸¶')
    text += genTextTypeWord('æ¨ª', 'ä¸€')
    text += genTextTypeWord('ç«–', 'ä¸¨')
    text += genTextTypeWord('æ’‡', 'ä¸¿')
    text += genTextTypeWord('æº', 'ã‡')
    text += genTextTypeWord('æ', 'ã‡€')

    text += genTextTypeWord('æ¨ªæŠ˜', 'ã‡•')
    text += genTextTypeWord('æ¨ªæ’‡', 'ãƒ•')
    text += genTextTypeWord('æ¨ªé’©', 'ä¹›')
    text += genTextTypeWord('æ¨ªæŠ˜é’©', 'î ˜')
    text += genTextTypeWord('æ¨ªæŠ˜æ', 'ã‡Š')
    text += genTextTypeWord('æ¨ªæŠ˜å¼¯', 'ã‡')
    text += genTextTypeWord('æ¨ªæŠ˜æŠ˜', 'ã‡…')
    text += genTextTypeWord('æ¨ªæ–œé’©', 'âº„')
    text += genTextTypeWord('æ¨ªæŠ˜å¼¯é’©', 'ã‡ˆ')
    text += genTextTypeWord('æ¨ªæ’‡å¼¯é’©', 'ã‡Œ')
    text += genTextTypeWord('æ¨ªæŠ˜æŠ˜æ’‡', 'ã‡‹')
    text += genTextTypeWord('æ¨ªæŠ˜æŠ˜æŠ˜é’©', 'ğ „')
    text += genTextTypeWord('æ¨ªæŠ˜æŠ˜æŠ˜', 'ã‡')
    text += genTextTypeWord('ç«–æ', 'ğ „Œ')
    text += genTextTypeWord('ç«–æŠ˜', 'ğ ƒŠ')
    text += genTextTypeWord('ç«–é’©', 'äº…')
    text += genTextTypeWord('ç«–å¼¯', 'ã‡„')
    text += genTextTypeWord('ç«–å¼¯é’©', 'ä¹š')
    text += genTextTypeWord('ç«–æŠ˜æ’‡', 'ã„£')
    text += genTextTypeWord('ç«–æŠ˜æŠ˜', 'ğ ƒ‘')
    text += genTextTypeWord('ç«–æŠ˜æŠ˜é’©', 'ã‡‰')
    text += genTextTypeWord('æ’‡ç‚¹', 'ğ¡¿¨')
    text += genTextTypeWord('æ’‡æŠ˜', 'ğ ƒ‹')
    text += genTextTypeWord('æ–œé’©', 'ã‡‚')
    text += genTextTypeWord('å¼¯é’©', 'ã‡')
    text += genTextTypeWord('å§é’©', 'ã‡ƒ')

    open(file_name, 'w', encoding = 'utf-8').write(text)

def genOpenccJson(name, file_name, category, word):
    text_json = {
      "name": name,
      "segmentation": {
        "type": "mmseg",
        "dict": {
          "type": "text",
          "file": word
        }
      },
      "conversion_chain": [{
        "dict": {
          "type": "group",
          "dicts": [{
            "type": "text",
            "file": word
          }, {
            "type": "text",
            "file": category
          }]
        }
      }]
    }
    json.dump(text_json, open(file_name, 'w'))

def main():
    category = 'symbol_category.txt'
    word = 'symbol_word.txt'
    genSymbolCategory(category)
    genSymbolWord(word)
    genOpenccJson('Chinese to Symbol', 'symbol.json', category, word)


if __name__ == '__main__':
    exit(main())
